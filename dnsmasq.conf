# dnsmasq configuration for Raspberry Pi network boot

# Disable DNS server (avoid conflicts)
port=0

# Network interface
interface=enxe2015074f51e

# =============================================================================
# DHCP Configuration
# =============================================================================

# OPTION A: Proxy mode (recommended if another DHCP server exists on network)
dhcp-range=10.48.65.0,proxy

# OPTION B: Standalone DHCP server (uncomment if no other DHCP on network)
# dhcp-range=10.48.65.100,10.48.65.150,12h
# dhcp-option=option:router,10.48.65.1
# dhcp-option=option:dns-server,8.8.8.8,8.8.4.4

# =============================================================================
# TFTP Configuration
# =============================================================================

enable-tftp
tftp-root=/tftpboot

# PXE boot settings for Raspberry Pi
pxe-service=0,"Raspberry Pi Boot"
dhcp-boot=start4.elf

# Log DHCP queries
log-dhcp

# =============================================================================
# Advanced Options
# =============================================================================

# Increase TFTP block size for faster transfers
tftp-max=1024

# Do not use /etc/hosts
no-hosts

# Do not read /etc/resolv.conf
no-resolv
