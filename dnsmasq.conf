# dnsmasq configuration for Raspberry Pi network boot
# Adjust values marked with CHANGEME for your environment

# Disable DNS server (avoid conflicts)
port=0

# Network interface - CHANGEME to match your server's interface
# Use 'ip addr' on the host to find the correct interface name
interface=eth0

# =============================================================================
# DHCP Configuration - Choose ONE option below
# =============================================================================

# OPTION A: Proxy mode (recommended if another DHCP server exists on network)
# This works alongside your existing DHCP server (router, etc.)
# CHANGEME: Replace with your network address
dhcp-range=10.48.65.0,proxy

# OPTION B: Standalone DHCP server (uncomment if no other DHCP on network)
# CHANGEME: Adjust IP range and lease time for your network
# dhcp-range=10.48.65.100,10.48.65.150,12h
# dhcp-option=option:router,10.48.65.1
# dhcp-option=option:dns-server,8.8.8.8,8.8.4.4

# =============================================================================
# TFTP Configuration
# =============================================================================

enable-tftp
tftp-root=/tftpboot

# PXE boot settings for Raspberry Pi
pxe-service=0,"Raspberry Pi Boot"
dhcp-boot=start4.elf

# Log DHCP queries (useful for debugging)
log-dhcp

# =============================================================================
# Advanced Options
# =============================================================================

# Increase TFTP block size for faster transfers
tftp-max=1024

# Don't use /etc/hosts
no-hosts

# Don't read /etc/resolv.conf
no-resolv
